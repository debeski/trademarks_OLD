{% load static %}

<div class="d-flex gap-2 align-items-center justify-content-between">
    <!-- PDF Icon (Always Visible) -->
    {% if record.pdf_file %}
        <a href="{% url 'download_decree' record.id %}" title="تحميل">
            <img src="{% static 'img/pdf.png' %}" alt="Download" class="action-icon">
        </a>
    {% else %}
        <span title="لا يوجد ملف" class="disabled">
            <img src="{% static 'img/nopdf.png' %}" alt="No File" class="action-icon" style="opacity: 0.5;">
        </span>
    {% endif %}

    <!-- Use the icon itself as the dropdown trigger -->
    <div class="dropdown-center">
        <a href="#" class="action-icon" id="actionDropdown{{ record.id }}" data-bs-toggle="dropdown" aria-expanded="false">
            <i class="bi bi-three-dots-vertical action-icon"></i>
        </a>
        <ul class="dropdown-menu" aria-labelledby="actionDropdown{{ record.id }}">
            <li>
                <a class="dropdown-item" href="{% url 'view_decree' record.id %}" title="عرض">
                    <img src="{% static 'img/view.png' %}" alt="View" class="sidebar-icon me-1"> عرض
                </a>
            </li>
            <li>
                <a class="dropdown-item" href="{% url 'edit_decree' record.id %}" title="تعديل">
                    <img src="{% static 'img/edit.png' %}" alt="Edit" class="sidebar-icon me-1"> تعديل
                </a>
            </li>
            <li>
                <a class="dropdown-item" href="#" data-bs-toggle="modal" data-bs-target="#deleteModal"
                   data-doc-id="{{ record.id }}" data-doc-number="{{ record.number }}">
                    <img src="{% static 'img/delete.png' %}" alt="Delete" class="sidebar-icon me-1"> حذف
                </a>
            </li>
        </ul>
    </div>
</div>
